<div class="bg-white rounded-lg shadow-lg p-6">
  <h2 class="text-3xl font-bold mb-4"><%= @recipe.name %></h2>

  <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
    <div>
      <p class="text-lg font-medium mb-2">
        <strong>Preparation Time:</strong>
        <%= @recipe.preparation_time %> hour
      </p>
      <p class="text-lg font-medium">
        <strong>Cooking Time:</strong>
        <%= @recipe.cooking_time %> hour
      </p>

      <hr class="my-6">

      <p class="text-lg font-medium mb-4">
        <strong>Steps:</strong>
      </p>
      <div class="text-lg mb-8">
        <%= @recipe.steps %>
      </div>

      <div class="flex justify-between items-center">
        <div>
          <%= form_with(url: user_recipe_path(@recipe)) do |form| %>
            <label class="inline-flex items-center">
              <%= form.check_box :public, { checked: @recipe.public, disabled: true }, class: "form-checkbox h-5 w-5 text-gray-600" %>
              <span class="ml-2 text-gray-700 font-medium">Public</span>
            </label>
          <% end %>
        </div>
        <% if current_user && current_user.id == @recipe.user_id %>
          <div>
            <%= link_to 'Generate Shopping List', shopping_list_path, class: "text-blue-600 hover:underline mr-4" %>
            <%= link_to 'Add New Ingredient', new_user_recipe_recipe_food_path(user_id: @recipe.user_id, recipe_id: @recipe.id), class: "text-blue-600 hover:underline" %>
          </div>
        <% end %>
      </div>
    </div>

    <div>
      <table class="w-full">
        <thead>
          <tr class="bg-gray-100 border-b border-gray-200">
            <th class="py-3 text-left font-medium">Food</th>
            <th class="py-3 text-left font-medium">Quantity</th>
            <th class="py-3 text-left font-medium">Value</th>
            <% if current_user && current_user.id == @recipe.user_id %>
              <th class="py-3 text-left font-medium">Actions</th>
            <% end %>
          </tr>
        </thead>

        <tbody>
          <% @recipe.recipe_foods.each do |recipe_food| %>
            <tr class="border-b border-gray-200">
              <td class="py-3"><%= recipe_food.food.name %></td>
              <td class="py-3"><%= recipe_food.quantity %> <%= recipe_food.food.measurement_unit %></td>
              <td class="py-3">$<%= recipe_food.food.price * recipe_food.quantity %></td>
              <% if current_user && current_user.id == @recipe.user_id %>
                <td class="py-3">
                  <%= button_to 'Delete', user_recipe_recipe_food_path(recipe_id: @recipe.id, id: recipe_food.id), method: :delete, data: { confirm: 'Are you sure?' }, class: "text-red-600 font-medium hover:underline" %>
                </td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

